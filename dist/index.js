var K=Object.create;var x=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty;var te=(e,t)=>{for(var r in t)x(e,r,{get:t[r],enumerable:!0})},L=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z(t))!re.call(e,o)&&o!==r&&x(e,o,{get:()=>t[o],enumerable:!(s=X(t,o))||s.enumerable});return e};var A=(e,t,r)=>(r=e!=null?K(ee(e)):{},L(t||!e||!e.__esModule?x(r,"default",{value:e,enumerable:!0}):r,e)),oe=e=>L(x({},"__esModule",{value:!0}),e);var le={};te(le,{Head:()=>W,Link:()=>Q,createInertiaApp:()=>w,router:()=>z.router,useForm:()=>S,usePage:()=>B,useRemember:()=>N});module.exports=oe(le);var z=require("@inertiajs/core");var T=require("@inertiajs/core"),u=require("vue");var E=require("@inertiajs/core"),R=A(require("lodash.clonedeep"),1),ne={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=E.router.restore(e),r=this.$options.remember.data.filter(o=>!(this[o]!==null&&typeof this[o]=="object"&&this[o].__rememberable===!1)),s=o=>this[o]!==null&&typeof this[o]=="object"&&typeof this[o].__remember=="function"&&typeof this[o].__restore=="function";r.forEach(o=>{this[o]!==void 0&&t!==void 0&&t[o]!==void 0&&(s(o)?this[o].__restore(t[o]):this[o]=t[o]),this.$watch(o,()=>{E.router.remember(r.reduce((l,p)=>({...l,[p]:(0,R.default)(s(p)?this[p].__remember():this[p])}),{}),e)},{immediate:!0,deep:!0})})}},H=ne;var C=require("@inertiajs/core"),g=A(require("lodash.clonedeep"),1),V=A(require("lodash.isequal"),1),k=require("vue");function S(e,t){let r=typeof e=="string"?e:null,s=typeof e=="string"?t:e,o=r?C.router.restore(r):null,l=typeof s=="object"?(0,g.default)(s):(0,g.default)(s()),p=null,d=null,y=n=>n,b=(0,k.reactive)({...o?o.data:(0,g.default)(l),isDirty:!1,errors:o?o.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(l).reduce((n,i)=>(n[i]=this[i],n),{})},transform(n){return y=n,this},defaults(n,i){if(typeof s=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof n>"u"?l=this.data():l=Object.assign({},(0,g.default)(l),typeof n=="string"?{[n]:i}:n),this},reset(...n){let i=typeof s=="object"?(0,g.default)(l):(0,g.default)(s()),a=(0,g.default)(i);return n.length===0?(l=a,Object.assign(this,i)):Object.keys(i).filter(c=>n.includes(c)).forEach(c=>{l[c]=a[c],this[c]=i[c]}),this},setError(n,i){return Object.assign(this.errors,typeof n=="string"?{[n]:i}:n),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...n){return this.errors=Object.keys(this.errors).reduce((i,a)=>({...i,...n.length>0&&!n.includes(a)?{[a]:this.errors[a]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(n,i,a={}){let c=y(this.data()),P={...a,onCancelToken:m=>{if(p=m,a.onCancelToken)return a.onCancelToken(m)},onBefore:m=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(d),a.onBefore)return a.onBefore(m)},onStart:m=>{if(this.processing=!0,a.onStart)return a.onStart(m)},onProgress:m=>{if(this.progress=m,a.onProgress)return a.onProgress(m)},onSuccess:async m=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,d=setTimeout(()=>this.recentlySuccessful=!1,2e3);let G=a.onSuccess?await a.onSuccess(m):null;return l=(0,g.default)(this.data()),this.isDirty=!1,G},onError:m=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(m),a.onError)return a.onError(m)},onCancel:()=>{if(this.processing=!1,this.progress=null,a.onCancel)return a.onCancel()},onFinish:m=>{if(this.processing=!1,this.progress=null,p=null,a.onFinish)return a.onFinish(m)}};n==="delete"?C.router.delete(i,{...P,data:c}):C.router[n](i,c,P)},get(n,i){this.submit("get",n,i)},post(n,i){this.submit("post",n,i)},put(n,i){this.submit("put",n,i)},patch(n,i){this.submit("patch",n,i)},delete(n,i){this.submit("delete",n,i)},cancel(){p&&p.cancel()},__rememberable:r===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(n){Object.assign(this,n.data),this.setError(n.errors)}});return(0,k.watch)(b,n=>{b.isDirty=!(0,V.default)(b.data(),l),r&&C.router.remember((0,g.default)(n.__remember()),r)},{immediate:!0,deep:!0}),b}var f=(0,u.ref)(null),h=(0,u.ref)(null),$=(0,u.shallowRef)(null),_=(0,u.ref)(null),j=null,se=(0,u.defineComponent)({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:r,titleCallback:s,onHeadUpdate:o}){f.value=t?(0,u.markRaw)(t):null,h.value=e,_.value=null;let l=typeof window>"u";return j=(0,T.createHeadManager)(l,s,o),l||(T.router.init({initialPage:e,resolveComponent:r,swapComponent:async p=>{f.value=(0,u.markRaw)(p.component),h.value=p.page,_.value=p.preserveState?_.value:Date.now()}}),T.router.on("navigate",()=>j.forceUpdate())),()=>{if(f.value){f.value.inheritAttrs=!!f.value.inheritAttrs;let p=(0,u.h)(f.value,{...h.value.props,key:_.value});return $.value&&(f.value.layout=$.value,$.value=null),f.value.layout?typeof f.value.layout=="function"?f.value.layout(u.h,p):(Array.isArray(f.value.layout)?f.value.layout:[f.value.layout]).concat(p).reverse().reduce((d,y)=>(y.inheritAttrs=!!y.inheritAttrs,(0,u.h)(y,{...h.value.props},()=>d))):p}}}}),M=se,q={install(e){T.router.form=S,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>T.router}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>h.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>j}),e.mixin(H)}};function B(){return(0,u.reactive)({props:(0,u.computed)(()=>h.value?.props),url:(0,u.computed)(()=>h.value?.url),component:(0,u.computed)(()=>h.value?.component),version:(0,u.computed)(()=>h.value?.version),scrollRegions:(0,u.computed)(()=>h.value?.scrollRegions),rememberedState:(0,u.computed)(()=>h.value?.rememberedState)})}var U=require("@inertiajs/core"),D=require("vue");async function w({id:e="app",resolve:t,setup:r,title:s,progress:o={},page:l,render:p}){let d=typeof window>"u",y=d?null:document.getElementById(e),b=l||JSON.parse(y.dataset.page),n=c=>Promise.resolve(t(c)).then(P=>P.default||P),i=[],a=await n(b.component).then(c=>r({el:y,App:M,props:{initialPage:b,initialComponent:c,resolveComponent:n,titleCallback:s,onHeadUpdate:d?P=>i=P:null},plugin:q}));if(!d&&o&&(0,U.setupProgress)(o),d){let c=await p((0,D.createSSRApp)({render:()=>(0,D.h)("div",{id:e,"data-page":JSON.stringify(b),innerHTML:a?p(a):""})}));return{head:i,body:c}}}var J=require("vue"),ie=(0,J.defineComponent)({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1},renderTagStart(e){e.props=e.props||{},e.props.inertia=e.props["head-key"]!==void 0?e.props["head-key"]:"";let t=Object.keys(e.props).reduce((r,s)=>{let o=e.props[s];return["key","head-key"].includes(s)?r:o===""?r+` ${s}`:r+` ${s}="${o}"`},"");return`<${e.type}${t}>`},renderTagChildren(e){return typeof e.children=="string"?e.children:e.children.reduce((t,r)=>t+this.renderTag(r),"")},isFunctionNode(e){return typeof e.type=="function"},isComponentNode(e){return typeof e.type=="object"},isCommentNode(e){return/(comment|cmt)/i.test(e.type.toString())},isFragmentNode(e){return/(fragment|fgt|symbol\(\))/i.test(e.type.toString())},isTextNode(e){return/(text|txt)/i.test(e.type.toString())},renderTag(e){if(this.isTextNode(e))return e.children;if(this.isFragmentNode(e))return"";if(this.isCommentNode(e))return"";let t=this.renderTagStart(e);return e.children&&(t+=this.renderTagChildren(e)),this.isUnaryTag(e)||(t+=`</${e.type}>`),t},addTitleElement(e){return this.title&&!e.find(t=>t.startsWith("<title"))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){let t=[];for(let r of e){let s=this.resolveNode(r);Array.isArray(s)?t.push(...s):t.push(s)}return this.addTitleElement(t.map(r=>this.renderTag(r)).filter(r=>r))},resolveNode(e){if(this.isFunctionNode(e))return this.resolveNode(e.type());if(this.isComponentNode(e))return console.warn("Using components in the <Head> component is not supported."),[];if(this.isTextNode(e)&&e.children)return e;if(this.isFragmentNode(e)&&e.children){let t=[];for(let r of e.children){let s=this.resolveNode(r);Array.isArray(s)?t.push(...s):t.push(s)}return t}else return this.isCommentNode(e)?[]:e}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),W=ie;var F=require("@inertiajs/core"),I=require("vue"),ae=(0,I.defineComponent)({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup(e,{slots:t,attrs:r}){return()=>{let s=e.as.toLowerCase(),o=e.method.toLowerCase(),[l,p]=(0,F.mergeDataIntoQueryString)(o,e.href||"",e.data,e.queryStringArrayFormat);return s==="a"&&o!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${l}" method="${o}" as="button">...</Link>`),(0,I.h)(e.as,{...r,...s==="a"?{href:l}:{},onClick:d=>{(0,F.shouldIntercept)(d)&&(d.preventDefault(),F.router.visit(l,{data:p,method:o,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??o!=="get",only:e.only,except:e.except,headers:e.headers,onCancelToken:r.onCancelToken||(()=>({})),onBefore:r.onBefore||(()=>({})),onStart:r.onStart||(()=>({})),onProgress:r.onProgress||(()=>({})),onFinish:r.onFinish||(()=>({})),onCancel:r.onCancel||(()=>({})),onSuccess:r.onSuccess||(()=>({})),onError:r.onError||(()=>({}))}))}},t)}}}),Q=ae;var O=require("@inertiajs/core"),Y=A(require("lodash.clonedeep"),1),v=require("vue");function N(e,t){if(typeof e=="object"&&e!==null&&e.__rememberable===!1)return e;let r=O.router.restore(t),s=(0,v.isReactive)(e)?v.reactive:v.ref,o=typeof e.__remember=="function"&&typeof e.__restore=="function",l=s(r===void 0?e:o?e.__restore(r):r);return(0,v.watch)(l,p=>{O.router.remember((0,Y.default)(o?e.__remember():p),t)},{immediate:!0,deep:!0}),l}
//# sourceMappingURL=index.js.map
